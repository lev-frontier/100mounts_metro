<!DOCTYPE html>
<html lang="zh-tw">
	<head>
		<meta charset="UTF-8">
		<title>百岳路線圖</title>
		<link rel="stylesheet" type="text/css" href="metro.css">
		<script src="metro.js"></script> 
		<meta name="viewport" content="width=960">
	</head>
	<body>
		<div id="bgcontanier"></div>
		<div align="center">

			<div id="maincontainer">

				<div id="gridcontainer">
				</div>

				<div id="nodecontainer">
					<div id="RouteMapTitle" class="title" data-col="1" data-row="1" style="color: gray;"></div>	
					<div class="title" data-col="20" data-row="1" style="color: #aaaaaa;">百岳路線圖</div>	
					<div class="title" data-col="16" data-row="67" style="color: #aaaaaa; text-align: right; right: 40px;">共計<span id="SelectionCount">０００</span>座完登</div>	
				
					<div class="group" data-x="0" data-y="1">	
						<div class="parkSylvia title" data-col="13" data-row="2">雪霸國家公園</div>					
						<div class="parkSylvia edgeLT" data-col="1" data-row="1"></div>
						<div class="parkSylvia edgeH" data-col="2" data-row="1" style="width:680px"></div>
						<div class="parkSylvia edgeRT" data-col="19" data-row="1"></div>
						<div class="parkSylvia edgeV" data-col="19" data-row="2" style="height:120px"></div>
						<div class="parkSylvia edgeRB" data-col="19" data-row="5"></div>
						<div class="parkSylvia edgeH" data-col="14" data-row="5" style="width:200px"></div>
						<div class="parkSylvia edgeLT" data-col="13" data-row="5"></div>
						<div class="parkSylvia edgeV" data-col="13" data-row="6" style="height:160px"></div>
						<div class="parkSylvia edgeRB" data-col="13" data-row="10"></div>					
						<div class="parkSylvia edgeH" data-col="12" data-row="10" style="width:40px"></div>
						<div class="parkSylvia edgeLT" data-col="11" data-row="10"></div>
						<div class="parkSylvia edgeRB" data-col="11" data-row="11"></div>
						<div class="parkSylvia edgeH" data-col="2" data-row="11" style="width:360px"></div>
						<div class="parkSylvia edgeLB" data-col="1" data-row="11"></div>
						<div class="parkSylvia edgeV" data-col="1" data-row="2" style="height:360px"></div>
					</div>
						
					<div class="group" data-x="-4" data-y="6">	
						<div class="parkTaroko title" data-col="21" data-row="19">太魯閣國家公園</div>
						<div class="parkTaroko edgeLT" data-col="20" data-row="1"></div>
						<div class="parkTaroko edgeH" data-col="21" data-row="1" style="width:280px"></div>
						<div class="parkTaroko edgeRT" data-col="28" data-row="1"></div>
						<div class="parkTaroko edgeV" data-col="28" data-row="2" style="height:720px"></div>
						<div class="parkTaroko edgeRB" data-col="28" data-row="20"></div>
						<div class="parkTaroko edgeH" data-col="11" data-row="20" style="width:680px"></div>
						<div class="parkTaroko edgeLB" data-col="10" data-row="20"></div>
						<div class="parkTaroko edgeV" data-col="10" data-row="12" style="height:320px"></div>
						<div class="parkTaroko edgeLT" data-col="10" data-row="11"></div>
						<div class="parkTaroko edgeH" data-col="11" data-row="11" style="width:200px"></div>
						<div class="parkTaroko edgeRB" data-col="16" data-row="11"></div>
						<div class="parkTaroko edgeV" data-col="16" data-row="7" style="height:160px"></div>
						<div class="parkTaroko edgeLT" data-col="16" data-row="6"></div>
						<div class="parkTaroko edgeH" data-col="17" data-row="6" style="width:120px"></div>
						<div class="parkTaroko edgeRB" data-col="20" data-row="6"></div>
						<div class="parkTaroko edgeV" data-col="20" data-row="2" style="height:160px"></div>
					</div>
						
					<div class="group" data-x="0" data-y="6">	
						<div class="parkJade title" data-col="2" data-row="37">玉山國家公園</div>
						<div class="parkJade edgeLT" data-col="1" data-row="36"></div>
						<div class="parkJade edgeH" data-col="2" data-row="36" style="width:640px"></div>
						<div class="parkJade edgeRT" data-col="18" data-row="36"></div>
						<div class="parkJade edgeV" data-col="18" data-row="37" style="height:680px"></div>
						<div class="parkJade edgeRB" data-col="18" data-row="54"></div>
						<div class="parkJade edgeH" data-col="2" data-row="54" style="width:640px"></div>
						<div class="parkJade edgeLB" data-col="1" data-row="54"></div>
						<div class="parkJade edgeV" data-col="1" data-row="37" style="height:680px"></div>
					</div>
					
				
				
					<div class="group" data-x="0" data-y="1">	
						<div class="border_lightsalmon box" data-col="7" data-row="2">086<br>加利 <div class="tip">A4</div> </div>
						<div class="line_lightsalmon hl" data-col="8" data-row="2"></div>
						<div class="border_lightsalmon box" data-col="9" data-row="2">052<br>伊澤 <div class="tip">A4</div> </div>
						<div class="line_lightsalmon hl" data-col="10" data-row="2"></div>
						<div class="line_lightsalmon slash" data-col="10" data-row="3"></div>
						<div class="border_lightsalmon box" data-col="9" data-row="4">035<br>小霸 <div class="tip">B4</div> </div>
						<div class="border_lightsalmon box" data-col="11" data-row="2">029<br>大霸 <div class="tip">B4</div> </div>
					</div>
				
				
					<div class="group" data-x="0" data-y="0">				
						<div class="line_gray dotted vl" data-col="11" data-row="3" style="height: 100px; margin-top: 40px;"><span class="routeTextV">聖稜線</span></div>
						<div class="line_gray dotted hl" data-col="12" data-row="4" style="width: 80px; margin-left: -18px;"><span class="routeText">霸南線</span></div>
						<div class="line_gray dotted vl" data-col="13" data-row="4" style="margin-top: 20px;"></div>
						<div class="line_gray dotted slash" data-col="11" data-row="6"><span class="routeText">聖稜線</span></div>
				
						<div class="border_orange box" data-col="12" data-row="5">024<br>品田 <div class="tip">B3</div> </div>
						<div class="line_orange hl" data-col="13" data-row="5"></div>
						<div class="border_orange box" data-col="14" data-row="5">051<br>池有 <div class="tip">A3</div> </div>
						<div class="line_orange hl" data-col="15" data-row="5"></div>
						<div class="border_orange box" data-col="16" data-row="5">048<br>桃山 <div class="tip">A3</div> </div>
						<div class="line_orange hl" data-col="17" data-row="5"></div>
						<div class="border_orange box" data-col="18" data-row="5">084<br>喀拉業 <div class="tip">A3</div> </div>
						
						<div class="border_yellow box" data-col="10" data-row="7">010<br>雪北 <div class="tip">B3</div> </div>
						<div class="line_yellow vl" data-col="10" data-row="8"></div>
						<div class="border_yellow box" data-col="10" data-row="9">002<br>雪主 <div class="tip">B2</div> </div>
						<div class="line_yellow slash1" data-col="11" data-row="8" style="translate: 0px 0px;"></div>
						<div class="line_lightgreen slash1" data-col="11" data-row="8" style="width:50px; translate: 0px 4px;"></div>
						<div class="border_yellow box" data-col="12" data-row="8">075<br>雪東 <div class="tip">A2</div> </div>
						<div class="line_gray dotted backslash1" data-col="11" data-row="10"><span class="routeText">志雪線</span></div>
						<div class="border_yellow box" data-col="12" data-row="10">054<br>志佳陽 <div class="tip">A3</div> </div>
						
						<div class="line_lightgreen hl" data-col="9" data-row="9"></div>
						<div class="border_lightgreen box" data-col="8" data-row="9">050<br>火石 <div class="tip">B3</div> </div>
						<div class="line_lightgreen hl" data-col="7" data-row="9"></div>
						<div class="border_lightgreen box" data-col="6" data-row="9">026<br>頭鷹 <div class="tip">C3</div> </div>
						<div class="line_lightgreen hl" data-col="5" data-row="9"></div>
						<div class="border_lightgreen box" data-col="4" data-row="9">023<br>大雪 <div class="tip">C3</div> </div>
						<div class="line_lightgreen hl" data-col="3" data-row="9"></div>
						<div class="border_lightgreen box" data-col="2" data-row="9">079<br>中雪 <div class="tip">C3</div> </div>
					
						<div class="line_gray dotted slash" data-col="9" data-row="10"><span class="routeText">雪劍線</span></div>
					
						<div class="border_green box" data-col="8" data-row="11">018<br>大劍 <div class="tip">B3</div> </div>
						<div class="line_green hl" data-col="7" data-row="11"></div>
						<div class="border_green box" data-col="6" data-row="11">049<br>佳陽 <div class="tip">B3</div> </div>
						<div class="line_green hl" data-col="5" data-row="11"></div>
						<div class="border_green box" data-col="4" data-row="11">064<br>小劍 <div class="tip">B3</div> </div>
					
						<div class="border_teal box" data-col="2" data-row="13">044<br>白姑 <div class="tip">B2</div> </div>
					</div>

						
					<div class="group" data-x="-2" data-y="2">
						<div class="border_red box" data-col="19" data-row="6">083<br>審馬陣 <div class="tip">A3</div> </div>	
						<div class="line_red hl" data-col="20" data-row="6"></div>
						<div class="border_red box" data-col="21" data-row="6">022<br>南湖北 <div class="tip">B3</div> </div>
						<div class="line_red vl" data-col="21" data-row="7"></div>
						<div class="line_red backslash" data-col="22" data-row="7"></div>
						<div class="border_red box" data-col="21" data-row="8">008<br>南湖主 <div class="tip">B3</div> </div>
						<div class="line_red hl" data-col="22" data-row="8"></div>
						<div class="border_red box" data-col="23" data-row="8">014<br>南湖東 <div class="tip">C3</div> </div>
						<div class="line_red backslash" data-col="24" data-row="9"></div>
						<div class="border_red box" data-col="25" data-row="10">073<br>馬比杉 <div class="tip">B3</div> </div>
						<div class="line_red vl" data-col="21" data-row="9"></div>
						<div class="border_red box" data-col="21" data-row="10">027<br>南湖南 <div class="tip">B3</div> </div>
						<div class="line_red vl" data-col="21" data-row="11"></div>
						<div class="border_red box" data-col="21" data-row="12">032<br>巴巴 <div class="tip">B3</div> </div>
					</div>
					
					
					
					<div class="group" data-x="-4" data-y="-2">		
					
						<div class="line_gray dotted backslash1" data-col="22" data-row="16"><span class="routeText">巴巴南稜</span></div>
						<div class="line_gray dotted slash1" data-col="22" data-row="14"><span class="routeText" style="translate: -4px 0px;">中央尖溪</span></div>
						<div class="border_red box" data-col="21" data-row="15">011<br>中央尖 <div class="tip">C3</div> </div>
					
						<div class="line_gray dotted hl" data-col="20" data-row="15"><span class="routeText">死亡稜線</span></div>
						
						<div class="line_tomato hl" data-col="18" data-row="15"></div>
						<div class="border_tomato box" data-col="19" data-row="15">081<br>甘薯 <div class="tip">B3</div> </div>
						<div class="line_tomato vl" data-col="19" data-row="16"></div>
						<div class="border_tomato box" data-col="19" data-row="17">031<br>無明 <div class="tip">C3</div> </div>
						<div class="line_tomato hl" data-col="18" data-row="17"></div>	
						<div class="border_tomato box" data-col="17" data-row="17">061<br>鈴鳴 <div class="tip">A3</div> </div>
						<div class="line_tomato vl" data-col="17" data-row="16"></div>
						<div class="border_tomato box" data-col="17" data-row="15">080<br>閂山 <div class="tip">A3</div> </div>
					
						<div class="line_gray dotted vl" data-col="17" data-row="18"><span class="routeTextV">北畢祿</span></div>
						
						
						<div class="border_yellowgreen box" data-col="17" data-row="19">039<br>畢祿 <div class="tip">B4</div> </div>
						<div class="line_yellowgreen hl" data-col="18" data-row="19"></div>
						<div class="border_yellowgreen box" data-col="19" data-row="19">096<br>羊頭 <div class="tip">B2</div> </div>
					
						<div class="line_gray dotted vl" data-col="17" data-row="20"><span class="routeTextV">大禹嶺</span></div>
						
						<div class="border_skyblue box" data-col="17" data-row="21">067<br>屏風 <div class="tip">B3</div> </div>
						
						<div class="line_aqua hl" data-col="18" data-row="23"></div>
						<div class="border_aqua box" data-col="19" data-row="23">088<br>磐石 <div class="tip">B2</div> </div>
						<div class="line_aqua hl" data-col="20" data-row="23"></div>
						<div class="border_aqua box" data-col="21" data-row="23">056<br>太魯閣 <div class="tip">C2</div> </div>
						<div class="line_aqua hl" data-col="22" data-row="23"></div>
						<div class="border_aqua box" data-col="23" data-row="23">092<br>立霧主 <div class="tip">C2</div> </div>
						<div class="line_aqua hl" data-col="24" data-row="23"></div>
						<div class="border_aqua box" data-col="25" data-row="23">089<br>帕托魯 <div class="tip">C2</div> </div>
					
						<div class="line_gray dotted hl" data-col="16" data-row="24" style="width: 60px"><span class="routeText">小奇萊</span></div>
						<div class="border_lightcyan box" data-col="15" data-row="24">036<br>合歡東 <div class="tip">A1</div> </div>
						<div class="line_lightcyan hl" data-col="14" data-row="24"></div>
						<div class="border_lightcyan box" data-col="13" data-row="24">037<br>合歡主 <div class="tip">A1</div> </div>
						<div class="line_lightcyan vl" data-col="13" data-row="23"></div>
						<div class="border_lightcyan box" data-col="13" data-row="22">070<br>石門 <div class="tip">A1</div> </div>
						<div class="line_lightcyan vl" data-col="13" data-row="21"></div>
						<div class="border_lightcyan box" data-col="13" data-row="20">034<br>北合歡 <div class="tip">A1</div> </div>
						<div class="line_lightcyan hl" data-col="12" data-row="20"></div>
						<div class="border_lightcyan box" data-col="11" data-row="20">082<br>西合歡 <div class="tip">A2</div> </div>
					
						
						<div class="line_gray dotted vl" data-col="17" data-row="22"><span class="routeTextV">奇萊北壁</span></div>
						<div class="border_skyblue box" data-col="17" data-row="23">016<br>奇萊北 <div class="tip">B2</div> </div>
						<div class="line_skyblue vl" data-col="17" data-row="24"></div>
						<div class="border_skyblue box" data-col="17" data-row="25">020<br>奇萊主 <div class="tip">B2</div> </div>
						<div class="line_gray dotted vl" data-col="17" data-row="26"><span class="routeTextV">卡羅樓</span></div>
						<div class="border_skyblue box" data-col="17" data-row="27">042<br>奇萊南 <div class="tip">B3</div> </div>
						<div class="line_skyblue vl" data-col="17" data-row="28"></div>
						<div class="border_skyblue box" data-col="17" data-row="29">076<br>南華 <div class="tip">A3</div> </div>
						
						<div class="line_skyblue vl" data-col="17" data-row="30"></div>						
							
						<div class="border_skyblue box" data-col="17" data-row="31">062<br>能高主 <div class="tip">B3</div> </div>
						<div class="line_skyblue vl" data-col="17" data-row="32"></div>
						<div class="border_skyblue box" data-col="17" data-row="33">043<br>能高南 <div class="tip">C3</div> </div>
						<div class="line_skyblue vl" data-col="17" data-row="34"></div>
						<div class="border_skyblue box" data-col="17" data-row="35">095<br>光頭 <div class="tip">C3</div> </div>
						<div class="line_skyblue vl" data-col="17" data-row="36"></div>
						<div class="border_skyblue box" data-col="17" data-row="37">087<br>白石 <div class="tip">C3</div> </div>
						<div class="line_skyblue vl" data-col="17" data-row="38"></div>
						<div class="border_skyblue box" data-col="17" data-row="39">094<br>安東軍 <div class="tip">C3</div> </div>
							

					</div>
				
				
				
					
					<div class="group" data-x="-2" data-y="-2">		
					
					
					
						<div class="border_purple box" data-col="7" data-row="37">055<br>干卓萬 <div class="tip">B4</div> </div>
						<div class="line_purple hl" data-col="8" data-row="37"></div>
						<div class="border_purple box" data-col="9" data-row="37">069<br>牧山 <div class="tip">C4</div> </div>
						<div class="line_purple hl" data-col="10" data-row="37"></div>
						<div class="border_purple box" data-col="11" data-row="37" title="萬東山西峰">063<br>火山 <div class="tip">C4</div> </div>
						<div class="line_purple vl" data-col="8" data-row="38" style="height:60px; translate:0px -20px;"></div>
						<div class="border_purple box" data-col="8" data-row="39">040<br>卓社 <div class="tip">C4</div> </div>
						
						<div class="line_gray dotted backslash hiddenInMobile" data-col="12" data-row="38" style="translate: -2px -2px;"><span class="routeText" style="translate: 16px 0px;">萬東山、</span></div>
						<div class="line_gray dotted backslash hiddenInMobile" data-col="13" data-row="39"><span class="routeText">卡社溪源</span></div>
						<div class="line_gray dotted backslash hiddenInMobile" data-col="14" data-row="40" style="width: 20px;translate: 11px -9px;"></div>						
						<div class="line_gray dotted hl hiddenInMobile" data-col="15" data-row="40" style="width:80px; translate: -20px 0px;"></div>
						
						<div class="line_gray dotted backslash" data-col="16" data-row="40"><span class="routeText" style="translate: 0px -18px;">草山摩即</span></div>
						
						<div class="border_teal box" data-col="17" data-row="41">099<br>六順 <div class="tip">B5</div> </div>
						
						<div class="line_gray dotted backslash" data-col="18" data-row="42"><span class="routeText" style="translate: 0px -18px;">關門山</span></div>
						<div class="line_gray dotted backslash" data-col="18" data-row="42"><span class="routeText" style="translate: 0px 0px;">大石公</span></div>
					
						<div class="border_blue box" data-col="19" data-row="43">047<br>丹大 <div class="tip">D4</div> </div>
						<div class="line_blue hl" data-col="18" data-row="43"></div>
						<div class="border_blue box" data-col="17" data-row="43">060<br>內嶺爾 <div class="tip">D4</div> </div>
						<div class="line_blue hl" data-col="16" data-row="43"></div>
						<div class="border_blue box" data-col="15" data-row="43">065<br><span class="small_span_label">義西<br>請馬至</span> <div class="tip">D4</div> </div>
						<div class="line_blue hl" data-col="14" data-row="43"></div>
						<div class="border_blue box" data-col="13" data-row="43">015<br>東郡 <div class="tip">E4</div> </div>
						<div class="line_blue vl" data-col="13" data-row="42"></div>
						<div class="border_blue box" data-col="13" data-row="41">030<br>東巒 <div class="tip">E4</div> </div>
						<div class="line_blue hl" data-col="12" data-row="43"></div>
						<div class="border_blue box" data-col="11" data-row="43">068<br>無雙 <div class="tip">E4</div> </div>
						<div class="line_gray dotted hl" data-col="10" data-row="43"><span class="routeText">郡大林道</span></div>
						<div class="border_blue box" data-col="9" data-row="43">057<br>郡大 <div class="tip">A1</div> </div>
						<div class="line_gray dotted vl" data-col="9" data-row="42"><span class="routeTextV">金子清水</span></div>
						<div class="border_blue box" data-col="9" data-row="41">091<br>西巒 <div class="tip">A3</div> </div>
						<div class="line_gray dotted hl" data-col="10" data-row="41"></div>
						<div class="line_gray dotted hl" data-col="11" data-row="41"><span class="routeText">伊巴厚社</span></div>
						<div class="line_gray dotted hl" data-col="12" data-row="41"></div>
					
					
					
					</div>
					
					<div class="group" data-x="0" data-y="-2">
					
						<div class="line_gray dotted hl" data-col="7" data-row="47" style="width:60px; margin-left:20px;"></div>
						<div class="line_gray dotted vl" data-col="7" data-row="47" style="height:60px; margin-top:20px;"><span class="routeTextV">荖濃溪</span></div>
						<div class="line_gray dotted hl" data-col="7" data-row="48" style="width:20px; margin-top:18px;"></div>
						
						<div class="line_gray dotted vl" data-col="13" data-row="44"><span class="routeTextV">嘆息灣</span></div>
					
						<div class="border_navy box" data-col="9" data-row="45">097<br>盆駒 <div class="tip">C4</div> </div>
						<div class="line_navy hl" data-col="10" data-row="45"></div>
						<div class="border_navy box" data-col="11" data-row="45">007<br><span class="small_span_label">馬博<br>拉斯</span> <div class="tip">C4</div> </div>
						<div class="line_navy hl" data-col="12" data-row="45"></div>
						<div class="border_navy box" data-col="13" data-row="45">021<br><span class="small_span_label">馬利<br>加南</span> <div class="tip">D4</div> </div>
						<div class="line_navy hl" data-col="14" data-row="45"></div>
						<div class="border_navy box" data-col="15" data-row="45">033<br>馬西 <div class="tip">D4</div> </div>
						<div class="line_navy hl" data-col="16" data-row="45"></div>
						<div class="border_navy box" data-col="17" data-row="45">058<br><span class="small_span_label">喀西<br>帕南</span> <div class="tip">D4</div> </div>

						<div class="line_navy vl" data-col="11" data-row="46"></div>	
					
									
						<div class="border_jade box" data-col="6" data-row="47">004<br>玉北 <div class="tip">B3</div> </div>
						<div class="line_jade vl" data-col="6" data-row="48"></div>
						<div class="border_jade box" data-col="6" data-row="49">001<br>玉主 <div class="tip">B2</div> </div>
						<div class="line_jade vl" data-col="6" data-row="50"></div>
						<div class="line_jade hl" data-col="7" data-row="49"></div>
						<div class="line_jade hl" data-col="5" data-row="49"></div>
						<div class="line_jade hl" data-col="3" data-row="49"></div>
						<div class="border_jade box" data-col="8" data-row="49">003<br>玉東 <div class="tip">B3</div> </div>
						<div class="border_jade box" data-col="4" data-row="49">025<br>玉西 <div class="tip">B3</div> </div>
						<div class="border_jade box" data-col="2" data-row="49">071<br>玉前 <div class="tip">B2</div> </div>
						<div class="border_jade box" data-col="6" data-row="51">005<br>玉南 <div class="tip">B3</div> </div>
						<div class="line_jade vl" data-col="6" data-row="52"></div>
						<div class="line_jade hl" data-col="7" data-row="51"></div>
						<div class="line_jade hl" data-col="5" data-row="51"></div>
						<div class="border_jade box" data-col="8" data-row="51">100<br>鹿山 <div class="tip">B3</div> </div>
						<div class="border_jade box" data-col="6" data-row="53">009<br>東小南 <div class="tip">B3</div> </div>
						<div class="border_jade box" data-col="4" data-row="51">038<br>南玉山 <div class="tip">B3</div> </div>
					
							
						<div class="border_palevioletred box" data-col="9" data-row="47">046<br>八通關 <div class="tip">B3</div> </div>
						
						<div class="line_navy hl" style="translate:0px -3px;" data-col="10" data-row="47"></div>
						<div class="line_palevioletred hl" style="translate:0px 3px;" data-col="10" data-row="47"></div>
						
						<div class="line_palevioletred backslash" data-col="10" data-row="48"></div>
						<div class="border_palevioletred box" data-col="11" data-row="47">006<br>秀姑巒 <div class="tip">B3</div> </div>
						<div class="line_palevioletred vl" data-col="11" data-row="48"></div>
						<div class="border_palevioletred box" data-col="11" data-row="49">013<br>大水窟 <div class="tip">B3</div> </div>
						<div class="line_palevioletred vl" data-col="11" data-row="50"></div>
						<div class="border_palevioletred box" data-col="11" data-row="51">074<br>達芬尖 <div class="tip">D4</div> </div>
						<div class="line_palevioletred vl" data-col="11" data-row="52"></div>
						<div class="border_palevioletred box" data-col="11" data-row="53">093<br>塔芬 <div class="tip">C4</div> </div>
						<div class="line_palevioletred vl" data-col="11" data-row="54"></div>
						<div class="border_palevioletred box" data-col="11" data-row="55">059<br>轆轆 <div class="tip">C4</div> </div>
						<div class="line_palevioletred vl" data-col="11" data-row="56"></div>	
						<div class="line_palevioletred hl" data-col="10" data-row="56" style="width: 60px;"></div>
						<div class="border_palevioletred box" data-col="9" data-row="56">019<br>雲峰 <div class="tip">C4</div> </div>
						<div class="border_palevioletred box" data-col="11" data-row="57">041<br>南雙頭 <div class="tip">C4</div> </div>
						<div class="line_palevioletred vl" data-col="11" data-row="58"></div>	
						<div class="border_palevioletred box" data-col="11" data-row="59">028<br>三叉 <div class="tip">A2</div> </div>
						
						<div class="line_palevioletred hl" data-col="10" data-row="59" style="translate: 0px -2px;"></div>	
						<div class="line_cornflowerblue hl" data-col="10" data-row="59" style="translate: 0px 2px;"></div>	
						
						<div class="border_palevioletred box" data-col="9" data-row="59">017<br>向陽 <div class="tip">B2</div> </div>			
						<div class="line_cornflowerblue hl" data-col="12" data-row="59"></div>	
						<div class="border_cornflowerblue box" data-col="13" data-row="59">045<br>新康 <div class="tip">C4</div> </div>		
						<div class="line_cornflowerblue vl" data-col="12" data-row="59" style="height:60px; margin-top:20px;"></div>
						<div class="border_cornflowerblue box" data-col="12" data-row="61">098<br><span class="small_span_label">布拉<br>克桑</span> <div class="tip">B4</div> </div>		
					
						<div class="line_gray dotted hl" data-col="8" data-row="59"><span class="routeText">南橫</span></div>	
						<div class="border_pink box" data-col="7" data-row="59">077<br>關山嶺 <div class="tip">A1</div> </div>	
						<div class="line_gray dotted hl" data-col="6" data-row="59"><span class="routeText">南橫</span></div>	
						<div class="border_pink box" data-col="5" data-row="59">072<br>塔關 <div class="tip">A1</div> </div>
						<div class="line_gray dotted hl" data-col="4" data-row="59"><span class="routeText">南橫</span></div>	
						<div class="border_pink box" data-col="3" data-row="59">085<br><span class="small_span_label">庫哈<br>諾辛</span> <div class="tip">A1</div> </div>
						<div class="line_pink vl" data-col="3" data-row="60"></div>	
						<div class="border_pink box" data-col="3" data-row="61">012<br>關山 <div class="tip">B3</div> </div>
						<div class="line_pink vl" data-col="3" data-row="62"></div>	
						<div class="border_pink box" data-col="3" data-row="63">078<br>海諾南 <div class="tip">B3</div> </div>
						<div class="line_pink vl" data-col="3" data-row="64"></div>
						<div class="border_pink box" data-col="3" data-row="65">066<br>小關山 <div class="tip">B3</div> </div>
						<div class="line_pink vl" data-col="3" data-row="66"></div>	
						<div class="border_pink box" data-col="3" data-row="67">053<br>卑南主 <div class="tip">B3</div> </div>		
					
						<div class="border_crimson box" data-col="3" data-row="69">090<br>北大武 <div class="tip">A2</div> </div>
						
					</div>
				</div>
			</div>
		

		</div>
	
		<!------------------------------------------------------------------------------------ FIREBASE START ------------------------------------------------------------------------------------------------>
		<div style="position: relative;">		
			<div class="auth-section no-print">
				<div id="loginForm">
					<input type="email" id="email" placeholder="電子郵件" style="margin:8px;">
					<input type="password" id="password" placeholder="密碼 (至少六位數)" style="margin:8px;">
					<button id="btnLogin" style="margin:8px;">登入</button>
					<button id="btnRegister" style="margin:8px;">註冊新帳號</button>
				</div>
				
				<div id="userInfo" class="hidden">
					<span id="userEmail"></span>
					<button id="btnLogout" style="margin:8px;">登出</button>
				</div>
				
				
				<div id="dataSection" class="hidden">
					<button id="btnSave">儲存資料</button>
					<hr>
					<div id="shareArea" class="hidden">
						<p>分享網址：</p>
						<div style="display: flex; gap: 5px;">
							<input type="text" id="shareUrl" readonly 
								   style="width: 100%; padding: 8px; border: 1px solid #ccc; background-color: #f9f9f9; cursor: pointer;" 
								   onclick="this.select();" title="點擊全選">
							
							<button id="btnCopy" style="white-space: nowrap; cursor: pointer;">複製</button>
						</div>
					</div>
				</div>
				
				<div >	        
					<input class="hidden" type="checkbox" id="isLockedAndHideControl">
				</div>
			</div>
			
			<div id="manualInputDataSection" class="hidden" style="z-index: 4; position: fixed; left:10px; right:250px; top:10px; margin:0px; height: 30px; background-color: #f7f7f7;	box-shadow: 3px 3px 3px 3px rgba(0, 0, 0, 0.2);	opacity: 0.9;	padding: 8px;	border: 1px solid #ccc;">
				<textarea id="fieldSummits" style="width:100%;height: 20px;"></textarea>		
			</div>
			
		</div>
		 <script type="module">
			import { auth, db } from './firebase-config.js';			
			import { signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";
			import { ref, set, get } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-database.js";


			// --- 註冊功能 ---
			document.getElementById('btnRegister').onclick = async () => {
				const email = document.getElementById('email').value;
				const pass = document.getElementById('password').value;

				if (pass.length < 6) {
					alert("密碼長度至少需要 6 位元");
					return;
				}

				try {
					const userCredential = await createUserWithEmailAndPassword(auth, email, pass);
					alert("註冊成功並已自動登入！");
					console.log("新用戶:", userCredential.user.uid);
				} catch (error) {
					// 常見錯誤：信箱格式不符、帳號已存在
					let msg = "註冊失敗: ";
					switch (error.code) {
						case 'auth/email-already-in-use': msg += "此信箱已被註冊"; break;
						case 'auth/invalid-email': msg += "信箱格式不正確"; break;
						case 'auth/weak-password': msg += "密碼強度不足"; break;
						default: msg += error.message;
					}
					alert(msg);
				}
			};

			// --- 1. 初始化讀取 (分享模式) ---
			window.addEventListener('load', async () => {
				const urlParams = new URLSearchParams(window.location.search);
				const sharedId = urlParams.get('id');
				const user = auth.currentUser; // 取得目前登入的使用者物件
				if (sharedId) {
					console.log("正在讀取分享 ID:", sharedId);
					const snapshot = await get(ref(db, `users/${sharedId}`));
					if (snapshot.exists()) {
						const data = snapshot.val();
						// 將讀取到的 JSON 填入欄位
						document.getElementById('input_name').value = data.name || "";
						document.getElementById('input_showlevel').checked = data.showLevel || false;
						document.getElementById('fieldSummits').value = data.summits || "";
						SetAllPos();
					}
				}
				else if(user)
				{
					console.log("正在讀取Auth User ID:", user.uid);
					const snapshot = await get(ref(db, `users/${user.uid}`));
					if (snapshot.exists()) {
						const data = snapshot.val();
						// 將讀取到的 JSON 填入欄位
						document.getElementById('input_name').value = data.name || "";
						document.getElementById('input_showlevel').checked = data.showLevel || false;
						document.getElementById('fieldSummits').value = data.summits || "";
						SetAllPos();
					}
				}
			});

			// --- 2. 身份狀態變更監聽 ---
			onAuthStateChanged(auth, async (user) => {
				const urlParams = new URLSearchParams(window.location.search);
				const sharedId = urlParams.get('id');
				if (user && !sharedId) {
					document.getElementById('loginForm').classList.add('hidden');
					document.getElementById('userInfo').classList.remove('hidden');
					document.getElementById('userEmail').innerText = user.email;					
					const uid = user.uid; // 取得 UID		
					const snapshot = await get(ref(db, `users/${uid}`));
					if (snapshot.exists()) {
						const data = snapshot.val();
						// 將讀取到的 JSON 填入欄位
						document.getElementById('input_name').value = data.name || "";
						document.getElementById('input_showlevel').checked = data.showLevel || false;
						document.getElementById('fieldSummits').value = data.summits || "";
					}					
					// 產生分享網址
					document.getElementById('shareArea').classList.remove('hidden');					
					// 產生分享網址並填入 Input Box
					const link = `${window.location.origin}${window.location.pathname}?id=${user.uid}`;					
					// 注意：Input 標籤要用 .value
					const shareInput = document.getElementById('shareUrl');
					shareInput.value = link;
					// 綁定複製按鈕功能 (如果有的話)
					document.getElementById('btnCopy').onclick = () => {
						shareInput.select(); // 選取文字
						navigator.clipboard.writeText(link).then(() => {
							alert("網址已複製到剪貼簿！");
						});
					};
					
					document.getElementById('isLockedAndHideControl').checked = false;
					document.getElementById('manualInputDataSection').classList.remove('hidden');
					document.getElementById('dataSection').classList.remove('hidden');
					SetAllPos();
				} else {
					document.getElementById('loginForm').classList.remove('hidden');
					document.getElementById('userInfo').classList.add('hidden');
					document.getElementById('shareArea').classList.add('hidden');
					document.getElementById('isLockedAndHideControl').checked = true;
					document.getElementById('manualInputDataSection').classList.add('hidden');
					document.getElementById('dataSection').classList.add('hidden');
					SetAllPos();
				}
			});

			// --- 3. 儲存功能 (JSON 格式) ---
			document.getElementById('btnSave').onclick = async () => {
				const user = auth.currentUser;
				if (!user) {
					alert("請先登入才能儲存資料！");
					return;
				}

				// 準備要儲存的 JSON 物件
				const userData = {
					name: document.getElementById('input_name').value,
					showLevel: document.getElementById('input_showlevel').checked,
					summits: document.getElementById('fieldSummits').value,
					updatedAt: Date.now()
				};

				try {
					// 直接將物件存入該使用者的路徑
					await set(ref(db, `users/${user.uid}`), userData);
					alert("資料已成功儲存！");
				} catch (error) {
					console.error(error);
					alert("儲存失敗，請檢查 Firebase 規則。");
				}
			};

			// --- 4. 登入/登出事件 ---
			document.getElementById('btnLogin').onclick = async () => {
				const email = document.getElementById('email').value;
				const pass = document.getElementById('password').value;
				try {
					const userCredential = await signInWithEmailAndPassword(auth, email, pass);
					alert("登入成功！");
					const uid = userCredential.user.uid;
					const snapshot = await get(ref(db, `users/${uid}`));
					if (snapshot.exists()) {
						const data = snapshot.val();
						// 將讀取到的 JSON 填入欄位
						document.getElementById('input_name').value = data.name || "";
						document.getElementById('input_showlevel').checked = data.showLevel || false;
						document.getElementById('fieldSummits').value = data.summits || "";
					}
					SetAllPos();
				} catch (e) { 
					alert("登入失敗: 帳號或密碼錯誤"); 
				}
			};

			document.getElementById('btnLogout').onclick = () => signOut(auth);

		</script>
		<!------------------------------------------------------------------------------------ FIREBASE END ------------------------------------------------------------------------------------------------>
		
	
		<div style="position: relative;">
			<div id="info" align="left" class="no-print">
				<div class="vertical-center" style="margin-left: 10px;margin-right: 10px;">
					<div style="margin: 10px;">
						<span style="float: left;width:20%;" class="label">暱稱</span>
						<input id="input_name" style="width:40%;" class="label" type="text" maxlength=32></input>
						<input style="float: right;" class="button" type="button" value="設定" onclick="SetName();"></input>
					</div>
					
					<hr>
					
					<div style="margin: 10px;">
						<input class="button" type="button" value="？" onclick="ShowLevelTip();"></input>
						<span class="label">顯示風險與體能等級</span>
						<input id="input_showlevel" style="float: right;" class="label" type="checkbox" onclick="SetShowLevel();"></input>
					</div>
					<div style="margin: 10px;">
					</div>
								
					<hr>
					
					<div style="margin: 10px;" align="center">
						<input style="float: left;" class="button" type="button" value="清除資料" onclick="ClearAll();"></input>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>